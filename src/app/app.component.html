<div class="app-container">

  <!-- Affichage uniquement si pas connecté -->
  <app-auth *ngIf="!isLogged" (loginEvent)="setLogged($event)"></app-auth>

  <!-- Affichage uniquement si connecté -->
  <div *ngIf="isLogged">
    <!-- Barre de connexion / déconnexion -->
    <div class="top-bar">
      <p>Connecté en tant que : <strong>{{ userEmail }}</strong></p>

      <div class="top-bar-buttons">
        <button (click)="goToProfile()" class="btn-profile" *ngIf="!isProfileView">Mon profil</button>
        <button (click)="backToTasks()" class="btn-back" *ngIf="isProfileView">Retour aux tâches</button>
        <button (click)="viewMyEvents()" class="btn-events" *ngIf="!showMyEvents">Mes événements</button>
        <button (click)="logout()" class="btn-logout">Déconnexion</button>
      </div>
    </div>

    <!-- Contenu principal / routes -->
    <router-outlet></router-outlet>
  </div>

</div>
